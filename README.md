# Программа распила для Ролтек
- Python 3.10 +
- Если import error, то надо добавить в переменные среды Windows PYTHONPATH={путь до папки с проектом без названия папки} сама папка проекта должна нызываться [raspil_rt]
# Настройка
В файле [server.bat]
```sh
python -m raspil_rt.server {полный путь до конфига}/config.txt
set /p asd="Hit enter to continue"
```
В [config.txt] поменять 
- out_path - вывод файлов производится в этот путь
- log_file - сюда в файл логируются ошибки
```sh
out_path=C:\Users\user\Documents\
host=localhost
port=9999
log_file=C:\Users\user\Documents\output\raspil_perror.txt
```
[Client.bat]  можно использовать для быстрой проверки
 - первый аргумент - путь до json файла с запросом
 - абсолютный путь до конфига сервера
```sh
cd ../
python -m raspil_rt.client "C:\Users\user\Documents\raspil_rt\tests\resources\1960_testing.txt"  "C:\Users\user\Documents\raspil_rt\config.txt"
set /p asd="Hit enter to continue"
```
## ID [0] type: int
N 
## длина палок [1] type: int
от 0 до N мм
## ID Складов [2] type: int
0 - заказ
1 - распилы
2 - в работе распилы
3 - склад
4 - заказаны на склад
5 - абстракный неиссякаемый склад
## количество палок в стаке [3] type: int
N 
## минимальный остаток [3] type: int
от 0 до L палки 
## максимальный остаток [3] type: int
от 0 до L палки 
## "width_saw": 3,   type: int 
толщина пила в мм
## "store_order" type: list[ list[ int ]
приоритетность по очередности элементов в первом массиве
второй внутренний массив для группировки нескольких складов за раз
пример:
//1
    [[1], посчитается первым
    [2], посчитается вторым
    [3],посчитается третьим
    [4], и тд
[5]] ...
    //2
    [[1,2,3,4],  посчитается первым с равным приоритетом с этими ид складов
    [5]]  посчиается вторым если останутся заказы
# Запрос:
```javascript
 "store_board": [ // доски склада
    1,   // ИД доски
    4600, // длина
    3,   // склад ИД
    3,   // кол-во
    200, // минимальный остаток обрези
    1200 // максимальный остаток обрези
],

"boards": [ // доски склада
    1,   // ИД доски
    460, // длина
    0,   // склад ИД
    3,   // кол-во
    200, // не имеет значения
    1200 // не имеет значения
],
"width_saw": 3,  // толщина пила в мм
"optimize": { // оптимизация по номерам складов, нужно ли применять условия ликвидности
    "1": true,
    "2":true,
    "3":true,
    "4":true,
    "5":true},
"store_order": [ 
    [1,2], // первым в расчет
    [3,4 ], // вторым в расчет
    [5]  // третьим в расчет
    // .. и тд 
],
```

## "store_board"  type: list[int]
    [26978, 
    6000, 
    5, 
    2, // то же значение что и  "amount" 
    240, 
    1400],
## "amount" type: int
количество распилов применимых к этой доске со склада
## "boards"  type: list[int]
## Результат
```javascript
[{ 
"store_board": [10944, 1248, 1, 1, 240, 1000],
"amount":1,
"boards":[ [10944, 620, 0, 2, 0, 0]],
{ 
"store_board": [26978, 6000, 5, 2, 240, 1400],
"amount":2,
"boards":[ [26978, 2760, 0, 1, 0, 0]],
]
```
